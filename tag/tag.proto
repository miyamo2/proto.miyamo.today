syntax = "proto3";

package tag;

import "google/protobuf/empty.proto";

service TagService {
  rpc GetTagById(GetTagByIdRequest) returns (SingleTagResponse);
  rpc GetAllTags(google.protobuf.Empty) returns (MultipleTagResponse);
  rpc GetNextPageTags(GetNextPageTagsRequest) returns (MultipleTagResponse);
  rpc GetPrevPageTags(GetPrevPageTagsRequest) returns (MultipleTagResponse);
}

message GetTagByIdRequest {
  string id = 1;
}

message GetNextPageTagsRequest {
  int32 first = 1;
  optional string after = 2;
}

message GetPrevPageTagsRequest {
  int32 last = 1;
  optional string before = 2;
}

message Tag {
  string id = 1;
  string name = 2;
  repeated Article articles = 3;
}

message Article {
  string id = 1;
  string title = 2;
  string body = 3;
  string createdAt = 4;
  string updatedAt = 5;
}

message SingleTagResponse {
  Tag tag = 1;
}

message MultipleTagResponse {
  repeated Tag tags = 1;
}